<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no">
		<title>蚂蚁到家--个人中心</title>
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/style2.css" />
		<link rel="stylesheet" type="text/css" href="css/aui.2.0.css" />
		<link rel="stylesheet" type="text/css" href="css/aui-slide.css" />
		<style>
			@media only screen and (min-width:768px) {
				body,
				#footer {
					width: 50%;
					margin: 0 auto;
				}
			}
			
			body {
				font-family: "微软雅黑";
			}
		</style>
		<script src="js/jquery.js"></script>
		<script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
		<script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/localization/messages_zh.js"></script>
		<script>
			$.validator.setDefaults({
				submitHandler: function() {
					alert("提交事件!");
				}
			});
			$().ready(function() {
				// 在键盘按下并释放及提交后验证提交表单
				$("#register_form").validate({
					rules: {
						QQ: {
							qq: true
						},
						email: {
							required: true,
							email: true
						},
						username: {
							required: true,
							minlength;2
						},
						pwd: {
							required: true,
							minlength: 6
						},
						pwdTwo: {
							required: true,
							minlength: 6,
							equalTo: "#pwd"
						}
					}

					messages: {
						QQ:{
							qq:"请输入您的qq号码"
						},
						username: {
							required: "请输入用户名",
							minlength: "用户名必须由两个字母组成"
						},
						email: {
							required: "请输入Email地址",
							email: "请输入正确的email地址"
						},
						pwd: {
							required: "请输入密码",
							minlength: jQuery.format("密码不能小于{0}个字符")
						},
						pwdTwo: {
							required: "请输入确认密码",
							minlength: "确认密码不能小于6个字符",
							equalTo: "两次输入密码不一致不一致"
						}
					}
				});
			});
			
				//QQ号码验证
				jQuery.validator.addMethod("qq", function(value, element) {
					var tel = /^[1-9][0-9]{4,}$/;
					return this.optional(element) || (tel.test(value));
				}, "请正确填写您的QQ号码");
		</script>
	</head>

	<body>
		<header class="aui-bar aui-bar-nav" id="header">
			<a class="aui-pull-left aui-btn" href="javascript:history.go(-1)">
				<span class="aui-iconfont aui-icon-left"></span>
			</a>
			<div class="aui-title">新用户注册</div>
			<a class="aui-pull-right aui-btn" href="title3.html">
				<span>登录</span>
			</a>
		</header>
		<div class="top">
			<div>注册账号</div>
		</div>
		<div class="register">
			<form action="" name="register_form" method="post" id="register_form">
				<div class="login-info">
					<div class="login-content-name">
						<span>QQ号码：</span>
						<div style="margin-top:-53px;margin-left:80px;">
							<input type="text" placeholder="请输入QQ号码" id="QQ" name="QQ" style="font-size: 14px;" />
						</div>
					</div>
					<div class="login-content-name">
						<span>邮箱地址：</span>
						<div style="margin-top:-53px;margin-left:80px;">
							<input type="email" placeholder="请输入邮箱地址" id="email" name="email" style="font-size: 14px;" />
						</div>
					</div>
					<div class="login-content-name">
						<span>用户名：</span>
						<div style="margin-top:-53px;margin-left:80px;">
							<input type="text" placeholder="请输入用户名" id="username" name="username" style="font-size: 14px;" />
						</div>
					</div>
					<div class="login-content-name">
						<span>创建密码：</span>
						<div style="margin-top:-53px;margin-left:80px;">
							<input type="password" placeholder="请输入您的密码" id="pwd" name="pwd" style="font-size: 14px;" />
						</div>
					</div>
					<div class="login-content-name">
						<span>确认密码：</span>
						<div style="margin-top:-53px;margin-left:80px;">
							<input type="password" placeholder="请确认您的密码" id="pwdTwo" name="pwdTwo" style="font-size: 14px;" />
						</div>
					</div>
				</div>
			</form>
			<div class="form">
				<p>
					<div class="aui-btn aui-btn-danger aui-btn-block aui-btn-sm">提交注册</div>
				</p>
			</div>
		</div>

		<script type="text/javascript" src="js/jquery-1.8.0.js"></script>
		<script type="text/javascript">
		</script>

		<div class="content2">
			<div class="aui-col-xs-4">
				<a href="#">
					<img src="img/phone.png" />&nbsp;<span>电脑端</span>
				</a>
			</div>
			<div class="aui-col-xs-4">
				<a href="#">
					<img src="img/client.png" style="height:20px;width:13px;" />&nbsp;<span>手机端</span>
				</a>
			</div>
			<div class="aui-col-xs-4">
				<a href="#">
					<img src="img/home.png" />&nbsp;<span>返回首页</span>
				</a>
			</div>
			<div class="aui-col-xs-12" style="text-align: center;">
				<span style="font-size: 10px;color: #DFDFDF;">—————copyright © 蚂蚁到家-精挑细选—————</span>
			</div>
		</div>

	</body>

	<script type="text/javascript" src="js/api.js"></script>
	<script type="text/javascript">
		apiready = function() {
			api.parseTapmode();
		}
	</script>
	<!--表单验证-->
	<script charset="utf-8" type="text/javascript" src="js/jquery.validate.js"></script>
	<script charset="utf-8" type="text/javascript" src="js/placeholder.js"></script>
	<script charset="utf-8" type="text/javascript" src="js/jquery.emailmatch.js"></script>
	<script type="text/javascript">
		$(function() {
			//获取焦点事件
			$(':input').focus(function() {
				//高亮边框
				$('#register_form li.active').removeClass('active');
				$(this).parents('li').addClass('active');
				var name = $(this).attr('name');
				$('#' + name + '_warn').attr('warn') == undefined || $('#' + name + '_warn').html('<p class="msg_error msg_error_gray">' + $('#' + name + '_warn').attr('warn') + '</p>'); //清除之前验证信息
			});
			//默认获取焦点
			$('input[name=qq]').focus();
		});
		$(function() {
			$('#register_form').validate({
				errorPlacement: function(error, element) {
					var error_td = element.parent('div').next('div');
					error_td.find('.tip').hide();
					error_td.append(error);
				},
				success: function(label) {
					label.addClass('tip').html('<strong class="ok"></strong>');
				},
				onkeyup: false,
				rules: {
					username: {
						required: true,
						byteRange: [3, 15, 'utf-8'],
						remote: {
							url: 'index.php?m=ajax&a=check_user',
							type: 'post',
							data: {
								username: function() {
									return $('#username').val();
								}
							},
							beforeSend: function() {
								var _checking = $('#check_user');
								_checking.prev('.tip').hide();
								_checking.next('.error-box').hide();
								$(_checking).show();
							},
							complete: function() {
								$('#check_user').hide();
							}
						}
					},
					qq: {
						required: true,
						range: [1000, 999999999999],
						remote: {
							url: 'index.php?m=ajax&a=check_qq',
							type: 'post',
							data: {
								qq: function() {
									return $('#qq').val();
								}
							},
							beforeSend: function() {
								var _checking = $('#check_qq');
								_checking.prev('.tip').hide();
								_checking.next('.error-box').hide();
								$(_checking).show();
							},
							complete: function() {
								$('#check_qq').hide();
							}
						}
					},
					password: {
						required: true,
						minlength: 6
					},
					repassword: {
						required: true,
						minlength: 6,
						equalTo: '#password'
					},
					email: {
						required: true,
						email: true,
						remote: {
							url: 'index.php?m=ajax&a=check_email',
							type: 'post',
							data: {
								email: function() {
									return $('#emailMatch').val();
								}
							},
							beforeSend: function() {
								var _checking = $('#check_email');
								_checking.prev('.tip').hide();
								$(_checking).show();
							},
							complete: function() {
								$('#check_email').hide();
							}
						}
					},
					captcha: {
						required: true,
						rangelength: [4, 4]
					},
					agree: {
						required: true
					}
				},
				messages: {
					username: {
						required: '<strong class="error"></strong><p class="msg_error">用户名不能为空</p>',
						byteRange: '<strong class="error"></strong><p class="msg_error">用户名必须在3-15个字符之间</p>',
						remote: '<strong class="error"></strong><p class="msg_error">用户名已存在</p>'
					},
					password: {
						required: '<strong class="error"></strong><p class="msg_error">密码不能为空</p>',
						minlength: '<strong class="error"></strong><p class="msg_error">密码长度应在6-20个字符之间</p>'
					},
					repassword: {
						required: '<strong class="error"></strong><p class="msg_error">密码不能为空</p>',
						minlength: '<strong class="error"></strong><p class="msg_error">密码长度应在6-20个字符之间</p>',
						equalTo: '<strong class="error"></strong><p class="msg_error">两次输入的密码不同</p>'
					},
					email: {
						required: '<strong class="error"></strong><p class="msg_error">邮箱不能为空</p>',
						email: '<strong class="error"></strong><p class="msg_error">邮箱格式错误</p>',
						remote: '<strong class="error"></strong><p class="msg_error">邮箱已存在</p>'
					},
					qq: {
						required: '<strong class="error"></strong><p class="msg_error">您必须填写您的QQ号码</p>',
						range: '<strong class="error"></strong><p class="msg_error">QQ号码位数错误</p>',
						remote: '<strong class="error"></strong><p class="msg_error">QQ号码已经注册</p>'

					},
					captcha: {
						required: '<strong class="error"></strong><p class="msg_error">验证码不能为空</p>',
						rangelength: '<strong class="error"></strong><p class="msg_error">位数错误</p>'
					},
					agree: {
						required: '<strong class="error"></strong><p class="msg_error">您必须阅读并同意该协议</p>'
					}
				}
			});
		});
	</script>

</html>